<?xml version="1.0"?>

<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="oxbot">
    <xacro:include filename="$(find oxbot_description)/urdf/oxbot_gazebo.xacro"/>

    <link name="base_footprint"/>

    <link name="chassis_bottom_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0.0575"/>
            <mass value="4.5"/>
            <inertia ixx="0.12205" ixy="0.0" ixz="0.0" iyy="0.05243" iyz="0.0" izz="0.16467"/>
        </inertial>
        <visual>
            <origin rpy="0 0 -1.57" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_chassis_bottom.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_chassis_bottom.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="chassis_bottom_joint" type="fixed">
        <parent link="base_footprint"/>
        <child link="chassis_bottom_link"/>
        <origin rpy="0 0 0" xyz="0 0 0.071"/>
    </joint>

    <link name="chassis_top_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0.07"/>
            <mass value="2.0"/>
            <inertia ixx="0.05553" ixy="0.0" ixz="0.0" iyy="0.01208" iyz="0.0" izz="0.06108"/>
        </inertial>
        <visual>
            <origin rpy="0 0 -1.57" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_chassis_top.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_chassis_top.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="chassis_top_joint" type="fixed">
        <parent link="chassis_bottom_link"/>
        <child link="chassis_top_link"/>
        <origin rpy="0 0 0" xyz="-0.0135 0 0.115"/>
    </joint>

    <link name="camera_mount_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.1"/>
            <inertia ixx="0.000283" ixy="0.0" ixz="0.0" iyy="0.000020" iyz="0.0" izz="0.00027"/>
        </inertial>
        <visual>
            <origin rpy="0 0 1.57" xyz="0 -0.09 0"/> 
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/oxbot_realsense_mount.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <box size="0.180 0.03 0.04"/>
            </geometry>
        </collision>
    </link>

    <joint name="camera_mount_joint" type="fixed">
        <parent link="chassis_top_link"/>
        <child link="camera_mount_link"/>
        <origin rpy="0 0 0" xyz="0.1075 0 0.140"/>
    </joint>

    <link name="camera_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.072" />
            <inertia ixx="0.003881243" ixy="0.0" ixz="0.0" iyy="0.000498940" iyz="0.0" izz="0.003879257" />
        </inertial>
        <visual>
            <origin rpy="1.57 0 1.57" xyz="0.01 -0.055 0.01"/>
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/d455.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0 "/>
            <geometry>
                <box size="0.18 0.03 0.04"/>
            </geometry>
        </collision>
    </link>

    <joint name="camera_joint" type="fixed">
        <parent link="chassis_bottom_link"/>
        <child link="camera_link"/>
        <origin rpy="0 0 0" xyz="0.08255 0.05318 0.2778125"/>
    </joint>

    <link name="lidar_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.17" />
            <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
        </inertial>
        <visual>
            <origin rpy="1.57 0 0" xyz="-0.0351 0.0351 -0.037"/>
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/rplidar_main.STL" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <box size="0.110 0.09 0.09"/>
            </geometry>
        </collision>
    </link>

    <joint name="lidar_joint" type="fixed">
        <parent link="chassis_bottom_link"/>
        <child link="lidar_link"/>
        <origin rpy="0 0 -1.57" xyz="0.0 0.0 0.29369"/>
    </joint>

    <link name="fan1_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.05" />
            <inertia ixx="63e-6" ixy="0" ixz="0" iyy="63e-6" iyz="0" izz="122e-6" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/oxbot_fan.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.121 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_fan.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="fan1_joint" type="fixed">
        <parent link="chassis_top_link"/>
        <child link="fan1_link"/>
        <origin rpy="0 0 0" xyz="-.095 0.09 0.140"/>
    </joint>

    <link name="fan2_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.05" />
            <inertia ixx="63e-6" ixy="0" ixz="0" iyy="63e-6" iyz="0" izz="122e-6" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0 0 0"/>
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/oxbot_fan.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.121 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_fan.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="fan2_joint" type="fixed">
        <parent link="chassis_top_link"/>
        <child link="fan2_link"/>
        <origin rpy="0 0 0" xyz="-.095 -0.21 0.140"/>
    </joint>

    <link name="antenna_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="0.025" />
            <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>  
                <mesh filename="package://oxbot_description/meshes/oxbot_antenna.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_antenna.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="antenna_joint" type="fixed">
        <parent link="chassis_top_link"/>
        <child link="antenna_link"/>
        <origin rpy="0 0 0" xyz="-0.057 -0.07 0.140"/>
    </joint>

    <link name="wheel_front_right_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="3.0" />
            <inertia ixx="0.005772" ixy="0" ixz="0" iyy="0.010086" iyz="0" izz="0.005772" />
        </inertial>
        <visual>
            <origin rpy="0 0 01.57" xyz="0 -0.075 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_front_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.075 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_front_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="wheel_front_right_joint" type="continuous">
        <parent link="chassis_bottom_link"/>
        <child link="wheel_front_right_link"/>
        <axis xyz="0 1 0"/>
        <origin rpy="0 0 0" xyz="0.1325 -0.28 0.026"/>
    </joint>

    <link name="wheel_front_left_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="3.0" />
            <inertia ixx="0.005772" ixy="0" ixz="0" iyy="0.010086" iyz="0" izz="0.005772" />
        </inertial>
        <visual>
            <origin rpy="0 0 -1.57" xyz="0 0.075 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_front_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="-0.075 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_front_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="wheel_front_left_joint" type="continuous">
        <parent link="chassis_bottom_link"/>
        <child link="wheel_front_left_link"/>
        <axis xyz="0 1 0"/>
        <origin rpy="0 0 0" xyz="0.1325 0.28 0.026"/>
    </joint>

    <link name="wheel_rear_right_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="4.0" />
            <inertia ixx="0.014425" ixy="0" ixz="0" iyy="0.02645" iyz="0" izz="0.014425" />
        </inertial>
        <visual>
            <origin rpy="0 0 1.57" xyz="0 -0.105 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_rear_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_rear_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="wheel_rear_right_joint" type="continuous">
        <parent link="chassis_bottom_link"/>
        <child link="wheel_rear_right_link"/>
        <axis xyz="0 1 0"/>
        <origin rpy="0 0 0" xyz="-0.1325 -0.28 0.049"/>
    </joint>

    <link name="wheel_rear_left_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="4.0" />
            <inertia ixx="0.014425" ixy="0" ixz="0" iyy="0.02645" iyz="0" izz="0.014425" />
        </inertial>
        <visual>
            <origin rpy="0 0 -1.57" xyz="0 0.105 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_rear_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://oxbot_description/meshes/oxbot_rear_wheel.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="wheel_rear_left_joint" type="continuous">
        <parent link="chassis_bottom_link"/>
        <child link="wheel_rear_left_link"/>
        <axis xyz="0 1 0"/>
        <origin rpy="0 0 0" xyz="-0.1325 0.28 0.049"/>
    </joint>

</robot>
